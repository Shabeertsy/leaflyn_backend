<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <title>
    Leafin Dashboard - {% block title %}{% endblock %} 
  </title>

  <!-- Favicon - loaded as static -->
  {% comment %} <link rel="icon" href="/static/assets/img/brand/favicon.png" type="image/png"> {% endcomment %}
  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
  <!-- Icons -->
  <link rel="stylesheet" href="/static/assets/vendor/nucleo/css/nucleo.css" type="text/css">
  <link rel="stylesheet" href="/static/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
  <!-- Page plugins -->
  <!-- Argon CSS -->
  <link rel="stylesheet" href="/static/assets/css/argon.css?v=1.2.0" type="text/css">
  <link rel="stylesheet" href="{% static 'assets/css/mouse-follower.css' %}">
  <!-- Specific CSS goes HERE -->
  {% block stylesheets %}{% endblock stylesheets %}

</head>
<style>
  .bg-main-clr{
    background: #2E5C38;
  }

  .bg-icon{
    background: #2E5C38;
  }

  .bg-icon-1{
    background: #D4AF37;
  }

  /* Leafin Dark Theme Overrides */
  body {
    background-color: #1A3322 !important;
    color: #f8f9fe;
  }
  .bg-default {
    background-color: #1A3322 !important;
  }
  .main-content {
    background-color: #1A3322 !important;
  }
  /* Header gradient */
  .header {
    background: linear-gradient(87deg, #1A3322 0, #2E5C38 100%) !important;
  }
  /* Cards - ensure dark text on white background */
  .card {
    color: #525f7f !important;
    background-color: #fff;
  }
  .card-header {
    background-color: #f7fafc;
  }
  /* Navbar text on dark background */
  .navbar-search .form-control {
    background-color: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.2);
    color: #fff;
  }
  .navbar-search .form-control::placeholder {
    color: rgba(255,255,255,0.6);
  }
  .navbar-search .input-group-text {
    background-color: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.2);
    color: #fff;
  }
  /* Mobile sidebar backdrop */
  .sidenav-backdrop {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1049;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  body.sidenav-opened .sidenav-backdrop {
    display: block;
    opacity: 1;
  }
  /* Improve table visibility on dark background */
  .table {
    color: #525f7f;
  }
  .table thead th {
    border-bottom: 2px solid #e9ecef;
  }
</style>

<body class="">

  {% include "includes/sidenav.html" %}

  <div class="main-content" id="panel">

    {% include "includes/navigation.html" %}

    <!-- Header -->
    <div class="header bg-main-clr  pb-8 pt-5 pt-md-7">
      <div class="container-fluid">
        <div class="header-body">
          <!-- Card stats --> 
          <div class="row">
            <div class="col-xl-3 col-lg-6">
              <div class="card card-stats mb-4 mb-xl-0">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h5 class="card-title text-uppercase text-muted mb-0">Orders</h5>
                      <span class="h2 font-weight-bold mb-0">{{ dashboard_data.orders|default:"-" }}</span>
                    </div>
                    <div class="col-auto">
                      <div class="icon icon-shape bg-icon text-white rounded-circle shadow">
                        <i class="fas fa-chart-bar"></i>
                      </div>
                    </div>
                  </div>
                  <p class="mt-3 mb-0 text-muted text-sm">
                    <span class="{% if dashboard_data.orders_change_is_positive %}text-success{% else %}text-danger{% endif %} mr-2">
                      <i class="fa {% if dashboard_data.orders_change_is_positive %}fa-arrow-up{% else %}fa-arrow-down{% endif %}"></i> {{ dashboard_data.orders_change|default:"-" }}%
                    </span>
                    <span class="text-nowrap">{{ dashboard_data.orders_change_period|default:"" }}</span>
                  </p>
                </div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6">
              <div class="card card-stats mb-4 mb-xl-0">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h5 class="card-title text-uppercase text-muted mb-0">New users</h5>
                      <span class="h2 font-weight-bold mb-0">{{ dashboard_data.new_users|default:"-" }}</span>
                    </div>
                    <div class="col-auto">
                      <div class="icon icon-shape bg-icon-1 text-white rounded-circle shadow">
                        <i class="fas fa-chart-pie"></i>
                      </div>
                    </div>
                  </div>
                  <p class="mt-3 mb-0 text-muted text-sm">
                    <span class="{% if dashboard_data.new_users_change_is_positive %}text-success{% else %}text-danger{% endif %} mr-2">
                      <i class="fas {% if dashboard_data.new_users_change_is_positive %}fa-arrow-up{% else %}fa-arrow-down{% endif %}"></i> {{ dashboard_data.new_users_change|default:"-" }}%
                    </span>
                    <span class="text-nowrap">{{ dashboard_data.new_users_change_period|default:"" }}</span>
                  </p>
                </div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6">
              <div class="card card-stats mb-4 mb-xl-0">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h5 class="card-title text-uppercase text-muted mb-0">Sales</h5>
                      <span class="h2 font-weight-bold mb-0">{{ dashboard_data.sales|default:"-" }}</span>
                    </div>
                    <div class="col-auto">
                      <div class="icon icon-shape bg-icon-1 text-white rounded-circle shadow">
                        <i class="fas fa-users"></i>
                      </div>
                    </div>
                  </div>
                  <p class="mt-3 mb-0 text-muted text-sm">
                    <span class="{% if dashboard_data.sales_change_is_positive %}text-success{% else %}text-warning{% endif %} mr-2">
                      <i class="fas {% if dashboard_data.sales_change_is_positive %}fa-arrow-up{% else %}fa-arrow-down{% endif %}"></i> {{ dashboard_data.sales_change|default:"-" }}%
                    </span>
                    <span class="text-nowrap">{{ dashboard_data.sales_change_period|default:"" }}</span>
                  </p>
                </div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6">
              <div class="card card-stats mb-4 mb-xl-0">
                <div class="card-body">
                  <div class="row">
                    <div class="col">
                      <h5 class="card-title text-uppercase text-muted mb-0">Performance</h5>
                      <span class="h2 font-weight-bold mb-0">
                        {{ dashboard_data.performance|default:"-" }}%
                      </span>
                    </div>
                    <div class="col-auto">
                      <div class="icon icon-shape bg-icon text-white rounded-circle shadow">
                        <i class="fas fa-percent"></i>
                      </div>
                    </div>
                  </div>
                  <p class="mt-3 mb-0 text-muted text-sm">
                    <span class="{% if dashboard_data.performance_change_is_positive %}text-success{% else %}text-danger{% endif %} mr-2">
                      <i class="fas {% if dashboard_data.performance_change_is_positive %}fa-arrow-up{% else %}fa-arrow-down{% endif %}"></i> 
                      {% if dashboard_data.performance_change %}{{ dashboard_data.performance_change }}%{% else %}12%{% endif %}
                    </span>
                    <span class="text-nowrap">
                      {% if dashboard_data.performance_change_period %}{{ dashboard_data.performance_change_period }}{% else %}Since last month{% endif %}
                    </span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {% block content %}{% endblock content %}

  </div>

  {% include "includes/scripts.html" %}

  <!-- Specific JS goes HERE --> 
  {% block javascripts %}{% endblock javascripts %}

  <script src="/static/assets/js/argon.js?v=1.2.0"></script>
  <script src="{% static 'assets/js/mouse-follower.js' %}"></script>
</body>

</html>
