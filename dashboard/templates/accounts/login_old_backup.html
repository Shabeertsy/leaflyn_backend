{% block stylesheets %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --c1: #2E5C38; /* Leafin Green */
  --c2: #1A3322; /* Leafin Dark Green */
  --c3: #D4AF37; /* Leafin Gold */
  --clr-card-bg: #fff;
  --clr-shadow: 0 8px 32px 0 rgba(26, 51, 34, .18);
  --input-bg: #f6f8fb;
  --input-border: #e1e7ef;
  --accent: var(--c1);
  --accent-gradient: linear-gradient(135deg, var(--c1), var(--c3));
  --radius: 22px;
  --duration: .26s;
  --gap: 22px;
  --error: #fd4747;
}
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
body {
  min-height: 100vh;
  font-family: 'Outfit', 'Inter', system-ui, sans-serif;
  background: linear-gradient(135deg, #1A3322 0%, #2E5C38 50%, #1A3322 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow-x: hidden;
  color: #f8f9fe;
}

.bg-blur-blob {
  position: fixed;
  z-index: 0;
  pointer-events: none;
}
.bg-blur-blob1 {
  left: -120px;
  top: -140px;
  width: 330px;
  height: 330px;
  background: radial-gradient(circle at 70% 70%, rgba(212, 175, 55, 0.3) 0%, transparent 75%);
  filter: blur(52px) brightness(0.94);
  opacity: 0.55;
}
.bg-blur-blob2 {
  right: -150px;
  bottom: -180px;
  width: 400px;
  height: 400px;
  background: radial-gradient(circle at 30% 50%, rgba(46, 92, 56, 0.4) 0%, transparent 70%);
  filter: blur(96px) brightness(0.92);
  opacity: 0.42;
}
.bg-blur-blob3 {
  left: 30vw;
  top: 90vh;
  width: 160px;
  height: 160px;
  background: radial-gradient(circle at 60% 30%, rgba(212, 175, 55, 0.25) 0%, transparent 75%);
  filter: blur(49px) brightness(0.97);
  opacity: 0.29;
}

.login-container {
  width: 100%;
  max-width: 430px;
  z-index: 2;
  position: relative;
  margin: 32px 0;
}
.neo-card {
  background: rgba(255,255,255, 0.98);
  box-shadow: var(--clr-shadow), 0 1.5px 0 0 rgba(212, 175, 55, 0.2);
  border-radius: var(--radius);
  padding: 44px 38px 38px 38px;
  position: relative;
  overflow: hidden;
  border-top: 3px solid var(--c3); /* Gold top border */
}

@media (max-width: 540px) {
  .neo-card {padding: 30px 20px;}
}
@media (max-width: 400px) {
  .neo-card {padding: 20px 4vw;}
}

.neo-head {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 36px;
}
.neo-logo {
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, var(--c1) 55%, var(--c3) 120%);
  border-radius: 50%;
  box-shadow: 0 6px 36px rgba(46, 92, 56, .20);
  margin-bottom: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: pulseLogo 3.2s infinite alternate cubic-bezier(.37,0,.54,1.41);
}
.neo-logo img {
  width: 38px;
  height: 38px;
  filter: drop-shadow(0 1px 4px rgba(255,255,255,0.5));
}
.neo-logo::after {
  content: '';
  position: absolute;
  border-radius: 50%;
  inset: -9px;
  border: 2px solid rgba(212, 175, 55, 0.3);
  opacity: 0.6;
  pointer-events: none;
}
@keyframes pulseLogo {
  0% {transform: scale(1);}
  55% {transform: scale(1.045);}
  100% {transform: scale(1);}
}
.neo-title {
  font-size: 2.11rem;
  font-weight: 700;
  letter-spacing: -0.03em;
  color: var(--c1);
  display: flex;
  justify-content: center;
  align-items: center;
  background: -webkit-linear-gradient(135deg, var(--c1) 30%, var(--c3) 80%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 5px;
}
.neo-subtitle {
  color: #536ca5;
  font-size: 17.5px;
  font-weight: 400;
}

.neo-login-form {
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}

.neo-field {
  display: flex;
  flex-direction: column;
  gap: 7px;
  position: relative;
}
.neo-label {
  font-size: 15.6px;
  font-weight: 600;
  color: var(--c1);
  margin-bottom: 3px;
  margin-left: 2px;
  letter-spacing: -0.03em;
  transition: color var(--duration) cubic-bezier(.56,.07,.28,.98);
}
.neo-input-wrap {
  position: relative;
  display: flex;
  align-items: center;
}
.neo-input {
  background: var(--input-bg);
  border: 2px solid var(--input-border);
  border-radius: 13px;
  outline: none;
  font-size: 16px;
  font-family: inherit;
  color: #253866;
  padding: 15.5px 17px 15.5px 16px;
  transition: border var(--duration), box-shadow var(--duration);
  width: 100%;
  font-weight: 500;
  box-shadow: 0px 0.5px 8px rgba(46, 92, 56, .04);
  letter-spacing: .01em;
}
.neo-input:focus {
  border: 2px solid var(--c1);
  background: #fafdff;
  box-shadow: 0 0 0 3px rgba(46, 92, 56, 0.12);
}
.neo-input:-webkit-autofill {
  background: var(--input-bg) !important;
  color: #253866 !important;
}
.neo-toggle-pw {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px 7px;
  border-radius: 11px;
  display: flex;
  align-items: center;
  transition: background var(--duration);
  z-index: 5;
}
.neo-toggle-pw .pwicon {
  width: 22px;height: 22px;color: #7697e7;transition: color .2s;
}
.neo-toggle-pw.toggle-active .pwicon.eye-o {display:none;}
.neo-toggle-pw.toggle-active .pwicon.eye-c {display:inline;}
.pwicon.eye-c {display:none;}
.neo-toggle-pw:focus,
.neo-toggle-pw:hover {background: rgba(46, 92, 56, 0.08);}
.neo-toggle-pw:focus .pwicon,
.neo-toggle-pw:hover .pwicon {color: var(--c1);}
.neo-error {
  color: var(--error);
  font-size: 13.2px;
  margin-top: 5px;
  min-height: 19px;
  opacity: 0;
  transition: opacity var(--duration);
  font-weight: 500;
}
.neo-field.error .neo-label,
.neo-field.error .neo-input { color: var(--error); border-color: var(--error);}
.neo-field.error .neo-error { opacity: 1;}
.neo-input::placeholder {color: #a2afd2; opacity: 1;}
/* Button */
.neo-btn {
  background: var(--accent-gradient);
  color: #fff;
  font-family: inherit;
  font-size: 17px;
  font-weight: 600;
  border: none;
  border-radius: 14px;
  min-height: 54px;
  box-shadow: 0 4px 24px -3px rgba(46, 92, 56, .24);
  letter-spacing: .01em;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  cursor: pointer;
  transition: background var(--duration), transform .13s;
  position: relative;
  margin: 10px 0 20px 0;
  overflow: hidden;
}
.neo-btn:focus,
.neo-btn:hover {
  background: linear-gradient(120deg, var(--c3), var(--c1));
  transform: translateY(-1px) scale(1.017);
}
.neo-btn[disabled], .neo-btn:disabled {filter: grayscale(.45);opacity:0.66;pointer-events: none;}
.neo-btn .neo-btn-loader {
  position: absolute;
  right: 18px;
  opacity: 0;
  transition: opacity .2s;
  pointer-events: none;
}
.neo-btn.loading .neo-btn-loader {opacity:1;}
.neo-btn.loading .neo-btn-text {opacity:0;}
.neo-btn .neo-btn-loader .spinner {
  width: 22px;
  height: 22px;
  display: inline-block;
  animation: spin 0.75s linear infinite;
  border: 2.7px solid #eafdfe;
  border-top: 2.7px solid #fff;
  border-radius: 50%;
  vertical-align: middle;
}
@keyframes spin {
  100% {transform: rotate(360deg);}
}
.neo-options {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.neo-checkbox-row {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  color: var(--c1);
  font-weight: 500;
  user-select: none;
  cursor: pointer;
}
.neo-checkbox-row .neo-checkbox {
  accent-color: var(--c1);
  width: 18px;
  height: 18px;
}
.neo-link {
  color: var(--c1);
  font-size: 15px;
  font-weight: 600;
  text-decoration: none;
  position: relative;
  transition: color var(--duration);
}
.neo-link:after {
  content: '';
  position: absolute;
  left:0; right:0;
  bottom: -2px;
  height: 2px;
  width: 0;
  background: var(--accent-gradient);
  transition: width var(--duration) cubic-bezier(.28,.38,.63,1.04);
}
.neo-link:hover {color: var(--c3);}
.neo-link:hover:after {width: 100%;}

.neo-signup {
  text-align: center;
  font-size: 15px;
  color: #788ba2;
}
.neo-signup .neo-link {
  font-weight: 700;
}

/* Misc Responsive */
@media (max-width: 420px) {
  .login-container { max-width: 99vw; }
  .neo-title { font-size: 1.44rem;}
}

</style>
{% endblock stylesheets %}

{% block content %}
<div class="bg-blur-blob bg-blur-blob1"></div>
<div class="bg-blur-blob bg-blur-blob2"></div>
<div class="bg-blur-blob bg-blur-blob3"></div>
<div class="login-container">
  <div class="neo-card">
    <div class="neo-head">
      <div class="neo-logo">
        <img src="/static/assets/img/gleamia-logo.svg" alt="Leafin Logo"/>
      </div>
      <div class="neo-title">Admin Dashboard</div>
      <div class="neo-subtitle">Sign in to the Panel with your admin credentials</div>
    </div>
    <form method="POST" class="neo-login-form" autocomplete="off" novalidate>
      {% csrf_token %}
      <div class="neo-field" id="field-email">
        <label for="email" class="neo-label">Email</label>
        <div class="neo-input-wrap">
          <input type="email" id="email" name="email" class="neo-input" placeholder="e.g. admin@mail.com" required autocomplete="username" spellcheck="false" />
        </div>
        <div class="neo-error" id="error-email">Please enter a valid email address.</div>
      </div>
      <div class="neo-field" id="field-password">
        <label for="password" class="neo-label">Password</label>
        <div class="neo-input-wrap">
          <input type="password" id="password" name="password" class="neo-input" placeholder="Your password" required minlength="6" autocomplete="current-password" spellcheck="false" />
          <button type="button" class="neo-toggle-pw" tabindex="-1" aria-label="Show/Hide password" onclick="togglePassword(this)">
            <svg class="pwicon eye-o" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"/>
              <circle cx="12" cy="12" r="3"/>
            </svg>
            <svg class="pwicon eye-c" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-6.06M1 1l22 22"/>
              <path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"/>
            </svg>
          </button>
        </div>
        <div class="neo-error" id="error-password">Password is required (min 6 characters).</div>
      </div>
   
      <button type="submit" class="neo-btn" id="login-btn">
        <span class="neo-btn-text">Sign In</span>
        <span class="neo-btn-loader"><span class="spinner"></span></span>
      </button>
    </form>

  </div>
</div>
<script>
function togglePassword(btn) {
  const input = btn.parentElement.querySelector('input');
  btn.classList.toggle('toggle-active');
  if (input.type === "password") {
    input.type = "text";
  } else {
    input.type = "password";
  }
}

// Modern Validation & Button Loader
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('.neo-login-form');
  const email = document.getElementById('email');
  const password = document.getElementById('password');
  const errorEmail = document.getElementById('error-email');
  const errorPassword = document.getElementById('error-password');
  const fieldEmail = document.getElementById('field-email');
  const fieldPassword = document.getElementById('field-password');
  const loginBtn = document.getElementById('login-btn');

  function validateEmail(val) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val.trim());
  }

  function showError(field, errorDiv, msg) {
    field.classList.add('error');
    errorDiv.textContent = msg;
  }
  function clearError(field, errorDiv) {
    field.classList.remove('error');
    errorDiv.textContent = "";
  }

  email.addEventListener('input', function() {
    clearError(fieldEmail, errorEmail);
  });
  password.addEventListener('input', function() {
    clearError(fieldPassword, errorPassword);
  });

  form.addEventListener('submit', function(e) {
    let valid = true;
    clearError(fieldEmail, errorEmail);
    clearError(fieldPassword, errorPassword);

    if (!email.value.trim() || !validateEmail(email.value)) {
      showError(fieldEmail, errorEmail, "Please enter a valid email address.");
      valid = false;
    }
    if (!password.value || password.value.length < 5) {
      showError(fieldPassword, errorPassword, "Password is required (min 6 characters).");
      valid = false;
    }
    if (!valid) {
      e.preventDefault();
      return false;
    }
    // Show loading spinner
    loginBtn.classList.add('loading');
    setTimeout(() => {
      loginBtn.classList.remove('loading');
    }, 3000);
  });
});
</script>
{% endblock content %}
